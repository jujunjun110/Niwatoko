#!/usr/bin/env python
# -*- coding: utf-8 -*-
# IRKitManagerが正常に動くか確かめるための簡易的なテスト

def main():	
	from irkit_manager import IRKitManager
	import yaml

	conf_file = "./settings/myhome_conf.yaml"
	f = open(conf_file, "r")
	conf = yaml.load(f)	
	f.close()
	
	ip = conf["ip"]
	irk = IRKitManager(ip)
	
	data = '{"format":"raw","freq":38,"data":[6881,3341,904,815,904,815,904,2537,904,2537,904,815,904,2537,904,815,904,815,904,815,904,2537,904,815,904,815,904,2537,904,815,904,2537,904,815,815,2537,904,815,904,815,904,2537,904,815,904,815,904,815,904,815,904,2537,904,2537,904,2537,904,2537,904,815,904,2537,904,815,904,815,904,815,904,2537,904,2537,904,815,904,815,904,2537,904,815,904,815,904,65535,0,65535,0,18031,6881,3341,904,815,904,815,904,2537,904,2537,904,815,904,2537,904,815,904,815,904,815,904,2537,904,815,904,815,904,2537,904,815,904,2537,904,815,904,2537,904,815,904,815,904,2537,904,815,904,815,904,815,904,815,904,2537,904,2537,904,2537,904,2537,904,815,904,2537,904,815,904,815,904,815,904,2537,904,2537,904,815,904,815,904,2537,904,815,904,815,904]}'
	
	irk.send_data(data)
	
if __name__ == "__main__":
	main()
